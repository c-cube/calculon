<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (calculon.Calculon__Core.S)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">calculon</a> &#x00BB; <a href="../index.html">Calculon__Core</a> &#x00BB; S</nav><h1>Module type <code>Calculon__Core.S</code></h1></header><div class="spec module" id="module-I"><a href="#module-I" class="anchor"></a><code><span class="keyword">module </span>I : Irc_client.CLIENT<span class="keyword"> with </span><span class="keyword">type </span>'a <a href="index.html#module-I">I</a>.Io.t<span class="keyword"> = </span><span class="type-var">'a</span> Lwt.t</code></div><dl><dt class="spec type" id="type-connection"><a href="#type-connection" class="anchor"></a><code><span class="keyword">type </span>connection</code><code><span class="keyword"> = </span><a href="index.html#module-I">I</a>.connection_t</code></dt></dl><dl><dt class="spec value" id="val-connection"><a href="#val-connection" class="anchor"></a><code><span class="keyword">val </span>connection : <a href="index.html#type-connection">connection</a></code></dt><dd><p>Current connection.</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val </span>init : unit Lwt.t</code></dt><dt class="spec value" id="val-exit"><a href="#val-exit" class="anchor"></a><code><span class="keyword">val </span>exit : unit Lwt.t</code></dt><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val </span>log : string <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Log a message (see field <code>irc_log</code> of <span class="xref-unresolved" title="unresolved reference to &quot;Config.config&quot;"><code>Config</code>.config</span>), typically for debugging purpose.</p><dl><dt>since</dt><dd>NEXT_RELEASE</dd></dl></dd></dl><dl><dt class="spec value" id="val-logf"><a href="#val-logf" class="anchor"></a><code><span class="keyword">val </span>logf : (<span class="type-var">'a</span>, Stdlib.Format.formatter, unit, unit Lwt.t) Stdlib.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Pretty logger (calling <a href="index.html#val-log"><code>log</code></a> to print the formatted message). Example: <code>logf &quot;answer to %s is %d&quot; &quot;life&quot; 42</code></p><dl><dt>since</dt><dd>NEXT_RELEASE</dd></dl></dd></dl><dl><dt class="spec value" id="val-set_log"><a href="#val-set_log" class="anchor"></a><code><span class="keyword">val </span>set_log : (string <span>&#45;&gt;</span> unit Lwt.t) <span>&#45;&gt;</span> unit</code></dt><dd><p>Set logger (default is the empty logger) that will be used by <a href="index.html#val-log"><code>log</code></a></p><dl><dt>since</dt><dd>NEXT_RELEASE</dd></dl></dd></dl><dl><dt class="spec value" id="val-send_exit"><a href="#val-send_exit" class="anchor"></a><code><span class="keyword">val </span>send_exit : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>trigger the <a href="index.html#val-exit"><code>exit</code></a> signal (only at the end!)</p></dd></dl><dl><dt class="spec value" id="val-messages"><a href="#val-messages" class="anchor"></a><code><span class="keyword">val </span>messages : <a href="../index.html#type-irc_msg">irc_msg</a> <a href="../../Calculon/Signal/index.html#type-t">Calculon.Signal.t</a></code></dt><dd><p>Signal triggered every time any IRC message is received</p></dd></dl><dl><dt class="spec value" id="val-privmsg"><a href="#val-privmsg" class="anchor"></a><code><span class="keyword">val </span>privmsg : <a href="../index.html#type-privmsg">privmsg</a> <a href="../../Calculon/Signal/index.html#type-t">Calculon.Signal.t</a></code></dt><dd><p>Signal triggered every time a <a href="index.html#val-privmsg"><code>privmsg</code></a> is received</p></dd></dl><dl><dt class="spec value" id="val-line_cut_threshold"><a href="#val-line_cut_threshold" class="anchor"></a><code><span class="keyword">val </span>line_cut_threshold : int Stdlib.ref</code></dt><dd><p>Above <code>!line_cut_threshold</code>, multi-line messages are cut with &quot;...&quot;</p></dd></dl><dl><dt class="spec value" id="val-send_privmsg_l"><a href="#val-send_privmsg_l" class="anchor"></a><code><span class="keyword">val </span>send_privmsg_l : target:string <span>&#45;&gt;</span> messages:string list <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Send a list of messages to the target. If the list is too long (see <a href="index.html#val-line_cut_threshold"><code>line_cut_threshold</code></a>) only a prefix of the list will be sent</p></dd></dl><dl><dt class="spec value" id="val-send_privmsg_l_nolimit"><a href="#val-send_privmsg_l_nolimit" class="anchor"></a><code><span class="keyword">val </span>send_privmsg_l_nolimit : ?&#8288;delay:float <span>&#45;&gt;</span> target:string <span>&#45;&gt;</span> messages:string list <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Version of <a href="index.html#val-send_privmsg_l"><code>send_privmsg_l</code></a> that does not enforce cut threshold. Be careful of the flood this might cause.</p><dl><dt>parameter delay</dt><dd><p>optional delay between each sent message</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-send_privmsg"><a href="#val-send_privmsg" class="anchor"></a><code><span class="keyword">val </span>send_privmsg : target:string <span>&#45;&gt;</span> message:string <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Helper for sending messages, splitting lines, etc.</p></dd></dl><dl><dt class="spec value" id="val-send_notice_l"><a href="#val-send_notice_l" class="anchor"></a><code><span class="keyword">val </span>send_notice_l : target:string <span>&#45;&gt;</span> messages:string list <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Send a list of notices. Notices are not supposed to be parsed by other bots, so as to avoid reply loops</p></dd></dl><dl><dt class="spec value" id="val-send_notice"><a href="#val-send_notice" class="anchor"></a><code><span class="keyword">val </span>send_notice : target:string <span>&#45;&gt;</span> message:string <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Helper for sending notices, splitting lines, etc.</p></dd></dl><dl><dt class="spec value" id="val-send_join"><a href="#val-send_join" class="anchor"></a><code><span class="keyword">val </span>send_join : channel:string <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Send a &quot;join&quot; messages to try and join some channel</p></dd></dl><dl><dt class="spec value" id="val-talk"><a href="#val-talk" class="anchor"></a><code><span class="keyword">val </span>talk : target:string <span>&#45;&gt;</span> <a href="../../Calculon/Talk/index.html#type-t">Calculon.Talk.t</a> <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Send a pre-formatted answer to the channel.</p></dd></dl></div></body></html>